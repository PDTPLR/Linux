
##  Исходный код
```bash
#!/bin/bash

# TODO: Add dynamic city input before startup
curl "https://wttr.in/Kiev"
```

## Как работает текущая версия
1. При запуске скрипт всегда показывает погоду для Киева
2. Использует сервис wttr.in через `curl`
3. Выводит в терминал:
   - Текущую погоду
   - Прогноз на 3 дня
   - Анимированные иконки (если терминал поддерживает Unicode)
   - Информацию о восходе/закате

## Проблемы текущей реализации
1. Город жёстко зашит в код (`Kiev`)
2. Нет обработки ошибок
3. Нет возможности указать параметры отображения

## Модернизированная версия с динамическим городом
```bash
#!/bin/bash

# Установка города по умолчанию
DEFAULT_CITY="Kiev"

# Обработка аргументов
if [ $# -eq 0 ]; then
  CITY=$DEFAULT_CITY
else
  CITY="$1"
fi

# Запрос погоды с обработкой ошибок
curl -fGsS --compressed "https://wttr.in/${CITY}?0qnT" \
  || echo "Ошибка получения данных. Проверьте: 
1. Интернет-соединение
2. Наличие curl (sudo pacman -S curl)
3. Корректность названия города"
```

## Объяснение улучшений:
1. `DEFAULT_CITY="Kiev"` - город по умолчанию
2. Проверка аргументов:
   ```bash
   if [ $# -eq 0 ]; then  # Если нет аргументов
     CITY=$DEFAULT_CITY    # Используем Киев
   else
     CITY="$1"             # Берём первый аргумент
   fi
   ```
3. Параметры curl:
   - `-f` - молча игнорировать ошибки HTTP
   - `-G` - правильно обрабатывать URL с пробелами
   - `-sS` - тихий режим, но показывать ошибки
   - `--compressed` - сжатие данных
4. Опции wttr.in:
   - `?0` - показывать только текущую погоду
   - `q` - тихий режим (меньше текста)
   - `n` - узкая версия
   - `T` - отключение терминальных escape-кодов

## Примеры использования
1. Погода по умолчанию:
   ```bash
   ./weather2
   ```
2. Для конкретного города:
   ```bash
   ./weather2 "New York"
   ```
3. Города с пробелами:
   ```bash
   ./weather2 "San Francisco"
   ```

## Arch Linux специфика
1. Установка зависимостей:
   ```bash
   sudo pacman -S curl  # Если не установлен
   ```
2. Для полной поддержки Unicode:
   ```bash
   sudo pacman -S noto-fonts-emoji  # Цветные эмодзи
   ```
3. Оптимизация для Wayland:
   ```bash
   ./weather2 | less -r  # Правильный вывод в новых терминалах
   ```

## Дополнительные улучшения (опционально)
1. Добавить форматирование для 256 цветов:
   ```bash
   curl "https://wttr.in/${CITY}?1"
   ```
2. Короткий прогноз на 3 дня:
   ```bash
   curl "https://wttr.in/${CITY}?2"
   ```
3. Полная версия:
   ```bash
   curl "https://wttr.in/${CITY}"
   ```

Скрипт теперь полностью гибкий и позволяет получать погоду для любого города мира прямо из терминала Arch Linux.