
## Исходный код
```bash
#!/bin/bash
for i in *.zip; do unzip "$i"; done
```

## Как работает скрипт
1. **Цикл по всем ZIP-архивам**  
   `*.zip` - находит все файлы с расширением .zip в текущей директории

2. **Распаковка архивов**  
   `unzip "$i"` - извлекает содержимое каждого архива:
   - Сохраняет структуру директорий
   - Перезаписывает существующие файлы без предупреждения
   - Извлекает в текущую директорию

## Особенности
- Простая однострочная реализация
- Работает только с видимыми файлами (начинающимися с точки не обрабатываются)
- Не требует указания имен файлов
- Обрабатывает имена с пробелами (благодаря кавычкам)

## Потенциальные проблемы
1. **Перезапись файлов**  
   Если разные архивы содержат файлы с одинаковыми именами, последний распакованный архив перезапишет предыдущие

2. **Отсутствие проверок**  
   Нет обработки:
   - Битых архивов
   - Отсутствия места на диске
   - Некорректных символов в именах

3. **Рекурсивная обработка**  
   Не затрагивает архивы в поддиректориях

## Улучшенная версия
```bash
#!/bin/bash

# Проверка наличия unzip
if ! command -v unzip &> /dev/null; then
    echo "Error: unzip not found. Install with: sudo apt install unzip"
    exit 1
fi

# Создание лог-файла
log_file="unzip_$(date +%Y-%m-%d_%H-%M-%S).log"

# Обработка архивов
for archive in *.zip; do
    if [[ ! -f "$archive" ]]; then
        echo "No ZIP files found" | tee -a "$log_file"
        exit 0
    fi

    echo "Unpacking: $archive" | tee -a "$log_file"
    unzip -o -q "$archive" -d "${archive%.zip}" 2>> "$log_file"
    
    if [[ $? -eq 0 ]]; then
        echo "Success: $archive" | tee -a "$log_file"
    else
        echo "ERROR: Failed to unpack $archive" | tee -a "$log_file"
    fi
done
```

## Что добавили:
1. **Проверка зависимостей**  
   Проверяет наличие утилиты unzip

2. **Логирование**  
   Создает файл журнала с временной меткой

3. **Безопасное распаковывание**  
   `-d "${archive%.zip}"` - создает отдельную папку для каждого архива

4. **Обработка ошибок**  
   Проверяет код возврата unzip

5. **Тихий режим**  
   `-q` - подавление вывода unzip

6. **Автоперезапись**  
   `-o` - автоматическое подтверждение перезаписи

## Рекомендации для Arch Linux
1. Установка unzip:
```bash
sudo pacman -S unzip
```

2. Пример использования:
```bash
chmod +x unzip_all
./unzip_all
```

3. Для рекурсивной обработки:
```bash
find . -name "*.zip" -exec unzip {} -d {}.dir \;
```

## Важные нюансы
- Всегда проверяйте содержимое архивов перед распаковкой
- Для защиты от перезаписи удалите флаг `-o`
- Для работы с зашифрованными архивами добавьте опцию `-P password`