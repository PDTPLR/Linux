```bash
#!/bin/bash

# Путь к теме Rofi
ROFI_THEME="$HOME/.config/rofi/config.rasi"
# Создаем список комбинаций в простом формате

keybindings=$(cat << 'EOF'
super + Escape + r: Перезагрузка конфигурации sxhkd
super + Return: Запуск терминала Alacritty
super + p: Скрыть/показать Polybar
super + w: Установить случайные обои
Alt_L + shift: Смена языка ввода
ctrl + space: Смена языка ввода
super + d: Запуск Rofi (drun)
super + x: Запуск меню питания
super + shift + f: Запуск Firefox
super + shift + n: Запуск Thunar
super + shift + o: Запуск Obsidian
super + shift + t: Запуск Telegram
super + shift + c: Запуск VSCodium
super + shift + x: Запуск xcolor-pick
super + shift + k: Запуск Calcurse
super + shift + l: Блокировка экрана
ctrl + super + alt + k: Закрытие окна (xkill)
XF86AudioRaiseVolume: Увеличить громкость
XF86AudioLowerVolume: Уменьшить громкость
XF86AudioMute: Выключить/включить звук
XF86MonBrightnessUp: Увеличить яркость
XF86MonBrightnessDown: Уменьшить яркость
Print: Скриншот (Flameshot)
ctrl + shift + q: Выход из bspwm
ctrl + shift + r: Перезапуск bspwm
super + c: Закрытие текущего окна
super + alt + f: Переключение floating/tiling режима
super + shift + 7: Показать горячие клавиши
super + f: Переключение полноэкранного режима
alt + Tab: Фокус на следующее окно
alt + shift + Tab: Фокус на предыдущее окно
super + grave: Фокус на последнее окно
super + Tab: Фокус на последний рабочий стол
super + 1-9,0: Переключение на рабочий стол 1-10
super + shift + 1-9,0: Отправить окно на рабочий стол 1-10
super + ctrl + 1-9: Установить соотношение предвыбора
super + ctrl + space: Отменить предвыбор
super + ctrl + shift + space: Сбросить предвыбор для всех окон
super + control + j/l/i/k: Изменить размер окна
super + j/l/i/k: Переместить фокус
super + alt + j/l/i/k: Переместить окно
super + ctrl + m/x/y/z: Установить флаги окна
super + ctrl + Left/Right: Переключение между рабочими столами
super + shift + Left/Right: Переместить окно на другой рабочий стол
EOF
)
# Запускаем Rofi с одноколоночным списком

echo "$keybindings" | rofi -dmenu -i -p "Горячие клавиши" \
    -theme "$ROFI_THEME" \
    -no-fixed-num-lines \
    -columns 1 \
    -width 3200 \
    -theme-str 'listview { columns: 1; }'
```

Этот скрипт, названный show-keybindings.sh, представляет собой простой bash-скрипт, предназначенный для отображения списка горячих клавиш (keybindings) в оконном менеджере bspwm и связанных с ним инструментах, таких как sxhkd (для обработки клавиатурных комбинаций). Он полезен для пользователей Linux с минималистичными окружениями, где настройка горячих клавиш осуществляется через конфигурационные файлы, но их запоминание или быстрый просмотр может быть неудобным. Скрипт запускает меню с помощью утилиты rofi, которая отображает список комбинаций в удобном, searchable формате, позволяя быстро найти нужную клавишу без обращения к документации или редактированию файлов конфигурации.

Зачем нужен такой скрипт? В окружениях вроде bspwm, где управление окнами и действиями полностью зависит от клавиатурных комбинаций, пользователи часто настраивают множество shortcuts для повышения продуктивности. Однако со временем их может накопиться много, и вспомнить все становится сложно, особенно для новичков или после изменений в конфигурации. Этот скрипт решает проблему, предоставляя быстрый доступ к списку: его можно вызвать, например, по комбинации super + shift + 7 (как указано в самом списке), и он покажет все keybindings в одном месте. Это экономит время, снижает ошибки и помогает в обучении системе, делая её более user-friendly без установки сложных GUI-инструментов.

Теперь разберём, как работает скрипт. Он начинается с шапки #!/bin/bash, что указывает на интерпретатор bash. Затем определяет переменную ROFI_THEME, которая ссылается на файл конфигурации rofi для стилизации меню.

```bash
# Путь к теме Rofi
ROFI_THEME="$HOME/.config/rofi/config.rasi"
```

Эта строка задаёт путь к теме rofi, чтобы меню выглядело в соответствии с пользовательскими настройками (например, цвета, шрифты). Если тема не найдена, rofi использует дефолтную.

Далее следует основная часть: создание переменной keybindings с помощью here-document (cat << 'EOF' ... EOF). Это позволяет вставить многострочный текст прямо в скрипт, где перечислены все горячие клавиши в формате "комбинация: описание".

```bash
# Создаем список комбинаций в простом формате
keybindings=$(cat << 'EOF'
super + Escape + r: Перезагрузка конфигурации sxhkd
super + Return: Запуск терминала Alacritty
# ... (остальные комбинации)
EOF
)
```

Здесь keybindings — это строка с полным списком. Формат простой — каждая строка вида "клавиши: действие", что делает его легко читаемым. Это статический список, который можно редактировать вручную в скрипте, чтобы отражать актуальные настройки sxhkd или bspwm.

Наконец, скрипт выводит этот список в rofi с помощью команды echo и пайпа (|), настраивая параметры rofi для отображения в одноколоночном меню.

```bash
# Запускаем Rofi с одноколоночным списком
echo "$keybindings" | rofi -dmenu -i -p "Горячие клавиши" \
    -theme "$ROFI_THEME" \
    -no-fixed-num-lines \
    -columns 1 \
    -width 3200 \
    -theme-str 'listview { columns: 1; }'
```

Эта команда: echo выводит содержимое keybindings; rofi -dmenu запускает rofi в режиме меню; -i делает поиск нечувствительным к регистру; -p задаёт заголовок; -theme применяет тему; -no-fixed-num-lines позволяет меню подстраиваться под количество строк; -columns 1 и -theme-str обеспечивают одноколоночный вид; -width 3200 устанавливает ширину (в пикселях, вероятно, для широкого экрана). В результате пользователь видит searchable список, где можно ввести текст для фильтрации, например, "super" покажет все комбинации с super-клавишей.

В целом, скрипт прост и не требует зависимостей кроме bash, rofi и настроенного окружения. Его можно интегрировать в sxhkd для вызова по клавише, что делает его незаменимым для повседневного использования в tiling window managers. Если список клавиш изменится, достаточно отредактировать here-document, и скрипт обновится без перезаписи всего кода.