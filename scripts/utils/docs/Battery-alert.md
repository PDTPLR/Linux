## –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
```bash
#!/bin/sh

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞—Ç–∞—Ä–µ–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

# –°–æ—Å—Ç–æ—è–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: NONE, FULL, LOW, CRITICAL
last="NONE"         # –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
critical=10         # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—Ä—è–¥–∞ (%)
low=25              # –ù–∏–∂–Ω–∏–π –ø–æ—Ä–æ–≥ –∑–∞—Ä—è–¥–∞ (%)

# –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä–∫–∏
while true; do
    # –ü—É—Ç—å –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∞—Ç–∞—Ä–µ–µ
    battery="/sys/class/power_supply/BAT0"
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –±–∞—Ç–∞—Ä–µ–∏
    if [ -d "$battery" ]; then
        # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
        capacity=$(cat "$battery/capacity")
        status=$(cat "$battery/status")

        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–ª–Ω–æ–π –∑–∞—Ä—è–¥–∫–µ
        if [ "$last" != "FULL" ] && [ "$status" = "Full" ]; then
            notify-send "üîã –ó–∞—Ä—è–¥–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞" "–ë–∞—Ç–∞—Ä–µ—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—Ä—è–∂–µ–Ω–∞"
            last="FULL"
        
        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–∏–∑–∫–æ–º –∑–∞—Ä—è–¥–µ
        elif [ "$last" != "LOW" ] && [ "$last" != "CRITICAL" ] && \
             [ "$status" = "Discharging" ] && [ "$capacity" -le "$low" ]; then
            notify-send "‚ö†Ô∏è –ù–∏–∑–∫–∏–π –∑–∞—Ä—è–¥" "–û—Å—Ç–∞–ª–æ—Å—å $capacity%"
            last="LOW"
        
        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º –∑–∞—Ä—è–¥–µ
        elif [ "$last" = "LOW" ] && [ "$status" = "Discharging" ] && \
             [ "$capacity" -le "$critical" ]; then
            notify-send "üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∑–∞—Ä—è–¥!" "–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ! –û—Å—Ç–∞–ª–æ—Å—å $capacity%"
            last="CRITICAL"
        fi
    fi
    
    # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ (60 —Å–µ–∫—É–Ω–¥)
    sleep 60
done
```

---

## –†–∞–∑–±–æ—Ä —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è Arch Linux

### 1. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **critical=10** - —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **low=25** - —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- **last** - —Ö—Ä–∞–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–æ–≤

### 2. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –±–∞—Ç–∞—Ä–µ–∏**  
   ```bash
   battery="/sys/class/power_supply/BAT0"
   [ -d "$battery" ]
   ```
   - –ü—É—Ç—å –∞–∫—Ç—É–∞–ª–µ–Ω –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –Ω–æ—É—Ç–±—É–∫–æ–≤
   - –î–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±–∞—Ç–∞—Ä–µ—è–º–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ BAT1

2. **–ß—Ç–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**  
   ```bash
   capacity=$(cat "$battery/capacity")  # –¢–µ–∫—É—â–∏–π –∑–∞—Ä—è–¥ (0-100%)
   status=$(cat "$battery/status")      # –°—Ç–∞—Ç—É—Å: Charging/Discharging/Full
   ```

3. **–õ–æ–≥–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**  
   - **–ü–æ–ª–Ω–∞—è –∑–∞—Ä—è–¥–∫–∞**: —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ "Full"
   - **–ù–∏–∑–∫–∏–π –∑–∞—Ä—è–¥**: 25% –ø—Ä–∏ —Ä–∞–∑—Ä—è–¥–∫–µ
   - **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∑–∞—Ä—è–¥**: 10% –ø–æ—Å–ª–µ –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
sudo pacman -S libnotify  # –î–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
sudo pacman -S ttf-font-awesome  # –ò–∫–æ–Ω–∫–∏ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π

### 1. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd
1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Ñ–∞–π–ª:  
   ```bash
   sudo nano /etc/systemd/system/battery-alert.service
   ```
2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```ini
   [Unit]
   Description=Battery Alert Service
   After=graphical.target

   [Service]
   ExecStart=/path/to/battery-alert.sh
   Restart=always
   User=%i

   [Install]
   WantedBy=multi-user.target
   ```
3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å:
   ```bash
   sudo systemctl enable --now battery-alert.service
   ```

### 2. –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
```bash
chmod +x battery-alert.sh
./battery-alert.sh &  # –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
```

---

## –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
```bash
#!/bin/bash

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
while getopts "c:l:" opt; do
  case $opt in
    c) critical=$OPTARG ;;
    l) low=$OPTARG ;;
    *) echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 [-c –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π_—É—Ä–æ–≤–µ–Ω—å] [-l –Ω–∏–∑–∫–∏–π_—É—Ä–æ–≤–µ–Ω—å]" >&2
       exit 1 ;;
  esac
done

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–æ–¥–∞
[ "$critical" -gt "$low" ] && echo "–û—à–∏–±–∫–∞: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–µ–Ω—å—à–µ –Ω–∏–∑–∫–æ–≥–æ" >&2 && exit 2

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
handle_unknown() {
    if [ "$status" = "Unknown" ]; then
        notify-send "‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å" "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è"
    fi
}

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
log() {
    echo "[$(date)] $1" >> /var/log/battery-alert.log
}

# –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
while :; do
    battery=$(ls /sys/class/power_supply | grep BAT | head -1)
    [ -z "$battery" ] && log "–ë–∞—Ç–∞—Ä–µ—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞" && sleep 60 && continue
    
    capacity=$(cat "/sys/class/power_supply/$battery/capacity")
    status=$(cat "/sys/class/power_supply/$battery/status")
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π...
    
    sleep 60
done
```

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### 1. –ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –¥–µ–º–æ–Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:  
  ```bash
  systemctl --user status dunst
  ```
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω –∏–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —Å–µ—Å—Å–∏–∏

### 2. –ù–µ–≤–µ—Ä–Ω—ã–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è –±–∞—Ç–∞—Ä–µ–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —è–¥–µ—Ä–Ω—ã–µ –º–æ–¥—É–ª–∏:  
  ```bash
  lsmod | grep battery
  ```
- –û–±–Ω–æ–≤–∏—Ç–µ –º–∏–∫—Ä–æ–∫–æ–¥:  
  ```bash
  sudo pacman -S intel-ucode amd-ucode
  ```

### 3. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–∞—Ç–∞—Ä–µ–∏
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ–∏—Å–∫ –±–∞—Ç–∞—Ä–µ–∏ –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏:  
```bash
battery=$(ls /sys/class/power_supply | grep BAT | head -1)
```

---

## –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –î–ª—è –Ω–æ—É—Ç–±—É–∫–æ–≤ —Å –Ω–µ—Å—ä—ë–º–Ω–æ–π –±–∞—Ç–∞—Ä–µ–µ–π –¥–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ "Not charging"
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ç—Ä–µ–µ–º –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–∏
- –î–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ –æ—Ç–∫–ª—é—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–ª–∞–≥ `--no-notify`

–°–∫—Ä–∏–ø—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–∞—Ç–∞—Ä–µ–∏, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –≤ Arch Linux.